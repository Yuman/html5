<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>math.js | plot</title>
	<script src="https://unpkg.com/mathjs@6.6.2/dist/math.min.js">

	</script>

	<script src="https://cdn.plot.ly/plotly-1.35.2.min.js">

	</script>

	<style>
		input[type=text] {
			width: 300px;
		}

		input {
			padding: 6px;
		}

		body,
		html,
		input {
			font-family: sans-serif;
			font-size: 11pt;

		}

		form {
			margin: 20px 0;
		}
	</style>
</head>

<body>

	<form id="form">
		<label for="eq">Enter an equation:</label>
  <input type="text" id="eq" value="4 * sin(x) + 5 * cos(x/2)" />
  <input type="submit" value="Draw" />
</form>

<div id="plot"></div>

<p>
  Used plot library: <a href="https://plot.ly/javascript/">Plotly</a>
</p>

<script>
  function draw() {
    try {
      // compile the expression once
      const expression = document.getElementById('eq').value
      const expr = math.compile(expression)

      // evaluate the expression repeatedly for different values of x
      const xValues = math.range(-10, 10, 0.5).toArray()
      const yValues = xValues.map(function (x) {
        return expr.evaluate({x: x})
      })

      // render the plot using plotly
      const trace1 = {
        x: xValues,
        y: yValues,
        type: 'scatter'
      }
      const data = [trace1]
      Plotly.newPlot('plot', data)
    }
    catch (err) {
      console.error(err)
      alert(err)
    }
  }

  document.getElementById('form').onsubmit = function (event) {
    event.preventDefault()
    draw()
  }

  draw()
</script>

<script>
  const solve = function(){
    const expression = document.getElementById('eq').value
    const expr = math.compile(expression)
    const lower = document.getElementById('lower').value
    const upper = document.getElementById('upper').value
    let root = lower, aVal, bVal;
    debugger;
    for(let a = 1*lower, b = 1*upper; (b-a) > 0.0001;){
      aVal = expr.evaluate({x:a});
      bVal = expr.evaluate({x:b});
      if (Math.abs(aVal) < 0.001) {
        root = a;
        break;
      }
      if (Math.abs(bVal) < 0.0001) {
        root = b;
        break;
      }      
      let mid = (a+b)/2;
      if(expr.evaluate({x:mid})*aVal > 0 ){
        a = mid;
      }else {b = mid;
      }
      root = mid;
    }
    document.getElementById('root').innerText = root;
}
</script>

Provide a range over a root:<p>
Lower: <input type="number" id="lower"/> <p>
Upper: <input type="number" id="upper"/><p>
<button onclick="solve()">Find the root in the range</button>
<p>

<output id="root">


</body>
</html>